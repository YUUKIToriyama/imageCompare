(this["webpackJsonpimage-compare"]=this["webpackJsonpimage-compare"]||[]).push([[0],{119:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),r=a.n(i),s=a(10),c=a.n(s),o=(a(119),a(12)),l=a(13),h=a(15),d=a(14),p=a(103),u=a(184),j=a(197),m=a(83),b=a.n(m),v=a(43),f=a.n(v),g=a(191),O=a(192),x=a(173),y=a(34),w=a(193),C=a(101),I=a.n(C),R=a(28),S=a(84),k=a(199),L=a(175),P=a(176),N=a(177),_=a(201),E=a(178),A=a(180),M=a(174),T=a(179),B=a(181),D=a(182),V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.state={open:!1},n.handleDrawerClose.bind(Object(R.a)(n)),n.handleDrawerOpen.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(k.a,{className:e.drawer,variant:"persistent",anchor:"left",open:this.state.open,classes:{paper:e.drawerPaper},children:[Object(n.jsx)("div",{className:e.drawerHeader,children:Object(n.jsx)(x.a,{onClick:this.handleDrawerClose,children:Object(n.jsx)(M.a,{})})}),Object(n.jsx)(L.a,{}),Object(n.jsxs)(P.a,{children:[Object(n.jsx)(N.a,{href:"https://github.com/YUUKIToriyama/imageCompare",children:Object(n.jsxs)(_.a,{button:!0,children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(T.a,{})}),Object(n.jsx)(A.a,{children:"View Source Code"})]},"Github")}),Object(n.jsxs)(_.a,{button:!0,children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(B.a,{})}),Object(n.jsx)(A.a,{children:"More information"})]},"Information"),Object(n.jsxs)(_.a,{button:!0,children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(A.a,{children:"Show Help"})]},"Help")]})]})}}]),a}(r.a.Component),U=f()((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(S.a)(Object(S.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}))(V),z=a(185),F=a(186),H=a(187),Y=a(188),G=a(189),K=a(190),J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.state={open:!1},n.descriptionElement=r.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(z.a,{onClick:this.handleClickOpen,children:this.props.label}),Object(n.jsxs)(F.a,{open:this.state.open,onClose:this.handleClose,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(H.a,{id:"scroll-dialog-title",children:this.props.title}),Object(n.jsx)(Y.a,{dividers:!0,children:Object(n.jsx)(G.a,{id:"scroll-dialog-description",ref:this.descriptionElement,tabIndex:-1,children:this.props.content})}),Object(n.jsx)(K.a,{children:Object(n.jsx)(z.a,{onClick:this.handleClose,color:"primary",children:"OK"})})]})]})}}]),a}(r.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.drawerRef.current.handleDrawerOpen()},n.drawerRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(g.a,{position:"static",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.handleDrawerOpen,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(y.a,{variant:"h6",className:e.title,children:this.props.title}),this.props.isOpencvLoaded?Object(n.jsx)(J,{label:"About OpenCV.js",title:"Build information",content:cv.getBuildInformation().split("\n").map((function(e,t){return Object(n.jsxs)("span",{children:[e,Object(n.jsx)("br",{})]},t)}))}):Object(n.jsx)(w.a,{color:"inherit"}),Object(n.jsx)(J,{label:"Help",title:"About this app",content:this.props.message})]})}),Object(n.jsx)(U,{ref:this.drawerRef})]})}}]),a}(r.a.Component),Q=f()((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(q),W=a(202),X=a(203),Z=a(196),$=a(198),ee=a(204),te=a(194),ae=a(102),ne=a.n(ae),ie=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).fileInputCallback=function(t){var a=t,n=new Image;n.src=a.base64,n.onload=function(){a.width=n.width,a.height=n.height,e.props.onInputImageChange(a)}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(W.a,{children:Object(n.jsx)(ne.a,{labelText:this.props.loaderId+1+"\u679a\u76ee",imagePreview:!0,multiple:!1,callbackFunction:function(t){console.log(t.name+" has been loaded."),e.fileInputCallback(t)},buttonComponent:Object(n.jsx)(x.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(te.a,{})}),textFieldComponent:Object(n.jsx)("input",{type:"text"}),accept:"image/*"})})}}]),a}(r.a.Component),re=a(200),se=a(195),ce=(a(97),a(17)),oe=a.n(ce),le=(a(145),a(146),a(147),function(e){var t=e.name,a=e.width,n=e.height;return{fileName:t,imageLayer:oe.a.imageOverlay(e.base64,[[-1*n/2,-1*a/2],[n/2,a/2]])}}),he=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).viewer,n.layers={},n.viewerRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.viewer=oe.a.map(this.viewerRef.current,{center:[0,0],crs:oe.a.CRS.Simple,zoom:0}),this.props.images.forEach((function(t){var a=le(t),n=a.fileName,i=a.imageLayer;e.layers[n]=i})),Object.keys(this.layers).forEach((function(t){e.viewer.addLayer(e.layers[t])})),oe.a.control.layers({},this.layers,{collapsed:!1}).addTo(this.viewer),oe.a.control.opacity(this.layers,{label:"\u900f\u660e\u5ea6\u3092\u5909\u66f4",collapsed:!1}).addTo(this.viewer)}},{key:"render",value:function(){return Object(n.jsx)("div",{ref:this.viewerRef,style:{width:"100%",height:"90vh"}})}}]),a}(r.a.Component),de=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).viewer1,n.viewer2,n.viewer1Ref=r.a.createRef(),n.viewer2Ref=r.a.createRef(),n.imageLayers=[],n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.images.forEach((function(t,a){var n=le(t),i=n.fileName,r=n.imageLayer,s={};s[i]=r,e.imageLayers.push(s)})),this.viewer1=oe.a.map(this.viewer1Ref.current,{center:[0,0],zoom:0,crs:oe.a.CRS.Simple}),oe.a.control.layers({},this.imageLayers[0],{collapsed:!1}).addTo(this.viewer1),this.viewer1.addLayer(Object.values(this.imageLayers[0])[0]),this.viewer2=oe.a.map(this.viewer2Ref.current,{center:[0,0],zoom:0,crs:oe.a.CRS.Simple}),oe.a.control.layers({},this.imageLayers[1],{collapsed:!1}).addTo(this.viewer2),this.viewer2.addLayer(Object.values(this.imageLayers[1])[0]),this.viewer1.sync(this.viewer2),this.viewer2.sync(this.viewer1)}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{ref:this.viewer1Ref,style:{width:"50%",height:"80vh",float:"left"}}),Object(n.jsx)("div",{ref:this.viewer2Ref,style:{width:"50%",height:"80vh"}})]})}}]),a}(r.a.Component),pe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).OVERLAY=!0,n.MULTIPLE=!1,n.state={view:n.OVERLAY,toggleLabel:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u8868\u793a"},n.changeView=n.changeView.bind(Object(R.a)(n)),n}return Object(l.a)(a,[{key:"changeView",value:function(){this.setState((function(e){return{view:!e.view,toggleLabel:1==e.view?"\u4e8c\u753b\u9762\u8868\u793a":"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u8868\u793a"}}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(se.a,{control:Object(n.jsx)(re.a,{checked:this.state.view,onChange:this.changeView}),label:this.state.toggleLabel}),this.state.view===this.OVERLAY&&Object(n.jsx)(he,{images:this.props.images}),this.state.view===this.MULTIPLE&&Object(n.jsx)(de,{images:this.props.images})]})}}]),a}(r.a.Component),ue=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapRef=r.a.createRef(),n.map=null,n.layer=null,n.imageBounds,n.markers=[],n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.image;this.imageBounds=new oe.a.latLngBounds([[-t.height/2,-t.width/2],[t.height/2,t.width/2]]),this.map=oe.a.map(this.mapRef.current,{center:[0,0],maxBounds:this.imageBounds.pad(.3),crs:oe.a.CRS.Simple}),this.layer=oe.a.imageOverlay(t.base64,this.imageBounds),this.layer.addTo(this.map),this.map.fitBounds(this.imageBounds);for(var a=0;a<this.props.n_marker;a++){var n=oe.a.divIcon({html:'<div class="bg-round"><span>'.concat(this.props.n_marker-a,"</span></div>"),className:"divicon"}),i=this.map.getCenter(),r=i.lat,s=i.lng;r+=50*Math.cos(2*(a+1)*Math.PI/this.props.n_marker),s+=50*Math.sin(2*(a+1)*Math.PI/this.props.n_marker);var c=new oe.a.marker([r,s],{draggable:!0,icon:n});this.markers.push(c)}var o=function(){var t=e.markers.map((function(t){var a=t.getLatLng();return{x:e.props.image.width/2+a.lng,y:e.props.image.height/2-a.lat}}));e.props.onPointsSet(t,e.props.imageId)};o(),this.markers.forEach((function(t){t.on("moveend",(function(e){o()})),t.addTo(e.map)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{ref:this.mapRef,style:{width:this.props.style.width,height:"80vh",float:this.props.style.float}})}}]),a}(r.a.Component);ue.defaultProps={style:{width:"50%",height:"80vh",float:"none"}};var je=ue,me=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).images=n.props.images,n.state={correspondingPointsArray:[null,null]},n.setCorrespondingPoints=n.setCorrespondingPoints.bind(Object(R.a)(n)),n.invisibleCanvasRef=r.a.createRef(),n.n_marker=4,n}return Object(l.a)(a,[{key:"setCorrespondingPoints",value:function(e,t){var a=this.state.correspondingPointsArray;a[t]=e,this.setState({correspondingPointsArray:a})}},{key:"executeImageMatching",value:function(){var e,t,a=this.state.correspondingPointsArray[0].map((function(e){return[e.x,e.y,1]})).flat(),n=this.state.correspondingPointsArray[1].map((function(e){return[e.x,e.y,1]})).flat(),i=function(e){var t=new Image;return t.src=e,t},r=function(e,t,a,n,i){var r=(c=cv.matFromArray(i,3,cv.CV_32F,a),o=cv.matFromArray(i,3,cv.CV_32F,n),l=0,new cv.Mat(3,3,cv.CV_32F),cv.findHomography(c,o,l)),s=cv.Mat.zeros(t.rows,t.cols,cv.CV_8UC3);var c,o,l;return cv.warpPerspective(e,s,r,new cv.Size(s.cols,s.rows),cv.INTER_LINEAR,cv.BORDER_CONSTANT,new cv.Scalar),s}(e=cv.imread(i(this.images[0].base64)),t=cv.imread(i(this.images[1].base64)),a,n,this.n_marker);cv.imshow(this.invisibleCanvasRef.current,r);var s=this.invisibleCanvasRef.current.toDataURL("image/png",1),c={name:this.images[0].name+"(Transformed)",base64:s,width:this.invisibleCanvasRef.current.width,height:this.invisibleCanvasRef.current.height};this.props.onImageProcessingDone(c),e.delete(),t.delete(),r.delete()}},{key:"render",value:function(){return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(je,{imageId:0,image:this.images[0],onPointsSet:this.setCorrespondingPoints,n_marker:this.n_marker,style:{width:"50%",float:"left"}}),Object(n.jsx)(je,{imageId:1,image:this.images[1],onPointsSet:this.setCorrespondingPoints,n_marker:this.n_marker,style:{width:"50%"}}),Object(n.jsx)("canvas",{ref:this.invisibleCanvasRef,style:{display:"none"}})]})}}]),a}(r.a.Component),be=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).renderImageLoader=function(e){return Object(n.jsx)(ie,{loaderId:e,onInputImageChange:function(t){return new Promise((function(a){var n=i.state.inputImages;n[e]=t,i.setState({inputImage:n}),a(!0)})).then((function(e){i.state.inputImages.every((function(e){return null!==e}))&&i.handleNext()}))}})},i.executeImageMatching=function(){i.imageCropRef.current.executeImageMatching()},i.handleImageProcessingDone=function(e){i.setState({transformedImage:e,processing:!1})},i.handleNext=function(){i.setState((function(e){return{activeStep:e.activeStep+1}}))},i.handleBack=function(){i.setState((function(e){return{activeStep:e.activeStep-1}}))},i.handleReset=function(){i.setState({activeStep:0,inputImages:[null,null],processing:!1})},i.howToMessage=[{title:"\u3053\u306e\u30a2\u30d7\u30ea\u3067\u3067\u304d\u308b\u3053\u3068",content:["\u3053\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001\u7279\u5fb4\u306e\u4f3c\u3066\u3044\u308b\u753b\u50cf\u3092\u3046\u307e\u304f\u5bfe\u5fdc\u3055\u305b\u3066\u91cd\u306d\u3066\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","\u3053\u308c\u307e\u3067\u306fPhotoShop\u3084GIMP\u306a\u3069\u306e\u30a2\u30d7\u30ea\u3092\u958b\u3044\u3066\u96e3\u3057\u3044\u624b\u9806\u3092\u8e0f\u307e\u306a\u3051\u308c\u3070\u3067\u304d\u306a\u304b\u3063\u305f\u4f5c\u696d\u3092\u30d6\u30e9\u30a6\u30b6\u306e\u4e2d\u3060\u3051\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002"]},{title:"\u3053\u306e\u30a2\u30d7\u30ea\u306e\u4f7f\u3044\u65b9",content:["\u307e\u305a\u3001\u6bd4\u8f03\u3092\u3057\u305f\u3044\u753b\u50cf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u30bf\u30a4\u30d7\u306fjpeg\u3068png\u3067\u3059\u3002","\u3064\u304e\u306b\u3001\u305d\u308c\u3089\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002","\u753b\u50cf\u306e\u8aad\u307f\u8fbc\u307f\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u8aad\u307f\u8fbc\u3093\u3060\u753b\u50cf\u3092\u30de\u30a6\u30b9\u3067\u52d5\u304b\u3057\u305f\u308a\u62e1\u5927\u7e2e\u5c0f\u3067\u304d\u308b\u753b\u9762\u304c\u73fe\u308c\u307e\u3059\u3002","\u3053\u306e\u753b\u9762\u3067\u306f\u30012\u3064\u306e\u753b\u50cf\u3092\u4e00\u81f4\u3055\u305b\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u64cd\u4f5c\u3092\u884c\u306a\u3044\u307e\u3059\u3002","\u305d\u308c\u305e\u308c\u306e\u753b\u9762\u306e\u4e2d\u592e\u306b\u3001\u6570\u5b57\u306e\u3064\u3044\u305f\u30de\u30fc\u30ab\u30fc\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u3092\u52d5\u304b\u3057\u3066\u3001\u53f3\u3068\u5de6\u3068\u3067\u540c\u3058\u756a\u53f7\u306e\u30de\u30fc\u30ab\u30fc\u304c\u540c\u3058\u30dd\u30a4\u30f3\u30c8\u3092\u62bc\u3055\u3048\u308b\u3088\u3046\u306b\u30de\u30fc\u30ab\u30fc\u306e\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u4e0b\u3055\u3044\u3002","\u30de\u30fc\u30ab\u30fc\u306e\u4f4d\u7f6e\u5408\u308f\u305b\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u6b21\u306f\u753b\u50cf\u51e6\u7406\u306e\u4f5c\u696d\u306b\u79fb\u308a\u307e\u3059\u3002","\u300c\u51e6\u7406\u3092\u5b9f\u884c\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u5de6\u753b\u9762\u306b\u6620\u3063\u3066\u3044\u305f\u753b\u50cf\u304c\u3001\u5de6\u5074\u306e\u753b\u50cf\u306b\u30d5\u30a3\u30c3\u30c8\u3059\u308b\u3088\u3046\u306b\u5909\u5f62\u4f5c\u696d\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002","\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u51e6\u7406\u306f\u81ea\u52d5\u7684\u306b\u9032\u884c\u3057\u3001\u51e6\u7406\u304c\u7d42\u308f\u308b\u3068\u753b\u50cf\u306e\u6bd4\u8f03\u95b2\u89a7\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u30ec\u30a4\u30e4\u30fc\u8868\u793a\u3067\u3059\u304c\u3001\u30c8\u30b0\u30eb\u30b9\u30a4\u30c3\u30c1\u3092\u3044\u3058\u308b\u3068\u3001\u4e8c\u753b\u9762\u30e2\u30fc\u30c9\u306b\u3082\u5909\u66f4\u3067\u304d\u307e\u3059\u3002","\u3046\u307e\u304f\u753b\u50cf\u304c\u5408\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3046\u3068\u304d\u306f\u3001\u5bfe\u5fdc\u70b9\u306e\u4f4d\u7f6e\u5408\u308f\u305b\u304c\u3046\u307e\u304f\u884c\u3063\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u300c\u59cb\u3081\u306b\u623b\u308b\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3057\u3066\u4e0b\u3055\u3044\u3002"]}],i.getEachSteps=function(e){switch(e){case 0:return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(y.a,{variant:"body1",children:"\u306f\u3058\u3081\u306b\u3053\u306e\u30a2\u30d7\u30ea\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002"}),i.howToMessage.map((function(e){var t=e.content.map((function(e,t){return Object(n.jsx)("div",{children:e},t)}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"h3",children:e.title}),Object(n.jsx)(y.a,{variant:"body1",children:t})]})})),Object(n.jsx)(z.a,{color:"primary",variant:"contained",onClick:i.handleNext,children:"\u59cb\u3081\u308b"})]});case 1:return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(y.a,{variant:"body1",children:"\u6bd4\u8f03\u3092\u884c\u306a\u3044\u305f\u3044\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(n.jsx)(y.a,{variant:"body2",children:"\u753b\u50cf\u306f\u30d6\u30e9\u30a6\u30b6\u4e0a\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3060\u3051\u3067\u3001\u5916\u90e8\u306b\u306f\u9001\u4fe1\u3055\u308c\u307e\u305b\u3093\u3002"}),Object(n.jsxs)("div",{children:[i.renderImageLoader(0),i.renderImageLoader(1)]})]});case 2:return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(y.a,{variant:"body1",children:"\u6570\u5b57\u306e\u3064\u3044\u305f\u30de\u30fc\u30ab\u30fc\u3092\u52d5\u304b\u3057\u3066\u30012\u3064\u306e\u753b\u50cf\u306e\u5bfe\u5fdc\u95a2\u4fc2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002"}),Object(n.jsx)(y.a,{variant:"body2",children:"\u53f3\u3068\u5de6\u3068\u3067\u540c\u3058\u756a\u53f7\u306e\u30de\u30fc\u30ab\u30fc\u304c\u540c\u3058\u30dd\u30a4\u30f3\u30c8\u3092\u62bc\u3055\u3048\u308b\u3088\u3046\u306b\u30de\u30fc\u30ab\u30fc\u306e\u4f4d\u7f6e\u3092\u8abf\u6574\u3057\u3066\u4e0b\u3055\u3044\u3002"}),Object(n.jsx)(me,{ref:i.imageCropRef,images:i.state.inputImages,onImageProcessingDone:i.handleImageProcessingDone}),!0===i.state.processing&&Object(n.jsx)(w.a,{}),Object(n.jsx)(z.a,{variant:"contained",color:"primary",onClick:function(){new Promise((function(e,t){i.setState({processing:!0}),i.imageCropRef.current.executeImageMatching(),e(!0)})).then((function(){i.setState({processing:!1}),i.handleNext()}))},children:"\u51e6\u7406\u3092\u5b9f\u884c"})]});case 3:return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(y.a,{variant:"body1",children:"\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01"}),Object(n.jsx)(y.a,{variant:"body2",children:"\u900f\u660e\u5ea6\u3092\u5909\u3048\u308b\u3053\u3068\u30672\u3064\u306e\u753b\u50cf\u3092\u900f\u904e\u3055\u305b\u3066\u307f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u4e8c\u753b\u9762\u30e2\u30fc\u30c9\u306b\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"}),null!=i.state.inputImages[1]&&Object(n.jsx)(pe,{images:[i.state.transformedImage,i.state.inputImages[1]]})]});default:return Object(n.jsx)(y.a,{children:"Unknown step"})}},i.state={activeStep:0,inputImages:[null,null],transformedImage:{},processing:!1},i.imageCropRef=r.a.createRef(),i.steps=["\u306f\u3058\u3081\u306b","\u753b\u50cf\u306e\u8aad\u307f\u8fbc\u307f","\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30dd\u30a4\u30f3\u30c8\u306e\u8a2d\u5b9a","\u753b\u50cf\u6bd4\u8f03\u30d3\u30e5\u30fc"],i}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=function(){return Object(n.jsx)(W.a,{children:Object(n.jsx)(z.a,{disabled:0===e.state.activeStep,onClick:e.handleReset,children:"\u6700\u521d\u306b\u623b\u308b"})})};return Object(n.jsx)(W.a,{className:this.props.classes.root,children:Object(n.jsx)(X.a,{activeStep:this.state.activeStep,orientation:"vertical",children:this.steps.map((function(a,i){return Object(n.jsxs)(Z.a,{children:[Object(n.jsx)($.a,{children:a}),Object(n.jsxs)(ee.a,{children:[e.getEachSteps(i),Object(n.jsx)(t,{props:e.props})]})]},a)}))})})}}]),a}(r.a.Component),ve=f()({root:{width:"100%"},button:{marginTop:"15px",marginRight:"15px"}})(be),fe=Object(p.a)({palette:{primary:b.a},typography:{fontFamily:["Roboto","Noto Sans"].join(","),fontSize:13,h1:{fontSize:"1.75rem"},h2:{fontSize:"1.5rem"},h3:{fontSize:"1.25rem"},h4:{fontSize:"1.125rem"},h5:{fontSize:"1rem"},h6:{fontSize:"1rem"}}}),ge=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isOpencvLoaded:!1},n.APP_NAME="imageCompare",n.APP_INFO=["imageCompare 0.9","https://github.com/YUUKIToriyama/imageCompare","(C)Copyright 2020 YUUKIToriyama All Rights Reserved."].join("\n"),n.OPEN_CV_URL="https://docs.opencv.org/4.5.0/opencv.js",n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("script");t.setAttribute("type","text/javascript"),t.addEventListener("load",(function(){cv.getBuildInformation?(console.log(cv.getBuildInformation()),e.setState({isOpencvLoaded:!0})):cv.onRuntimeInitialized=function(){console.log(cv.getBuildInformation()),e.setState({isOpencvLoaded:!0})}})),t.addEventListener("error",(function(){console.error("Failed to load "+e.OPEN_CV_URL)})),t.src=this.OPEN_CV_URL,document.querySelector("head").appendChild(t)}},{key:"render",value:function(){return Object(n.jsxs)(u.a,{theme:fe,children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(Q,{title:this.APP_NAME,message:this.APP_INFO,isOpencvLoaded:this.state.isOpencvLoaded}),Object(n.jsx)(ve,{})]})}}]),a}(r.a.Component);c.a.render(Object(n.jsx)(ge,{}),document.getElementById("app"))}},[[148,1,2]]]);
//# sourceMappingURL=main.fc09f429.chunk.js.map