{"version":3,"sources":["MyAppBar.jsx","ButtonWithIcon.jsx","DisplayImage.jsx","ImageLoader.jsx","ImageCrop.jsx","Workflow.jsx","MainContent.jsx","LoadingSpinner.jsx","App.jsx","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","MyAppBar","classes","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","variant","Button","ButtonWithIcon","props","startIcon","icon","component","DisplayImage","Card","style","width","CardMedia","src","imageURL","ImageLoader","React","useState","imageSrc","setImageSrc","Box","accept","id","type","display","onChange","event","files","target","length","URL","createObjectURL","htmlFor","PhotoCamera","DeleteForever","ImageCrop","canvasElement","useRef","ref","height","button","marginTop","actionsContainer","marginBottom","resetContainer","padding","getStepContent","step","Workflow","activeStep","setActiveStep","steps","handleNext","prevActiveStep","handleBack","Stepper","orientation","map","label","index","Step","StepLabel","StepContent","disabled","onClick","Paper","square","elevation","MainContent","LoadingSpinner","this","loading","CircularProgress","Icon","fontSize","Component","createMuiTheme","palette","primary","orange","typography","fontFamily","join","h1","h2","h3","h4","h5","h6","App","state","opencvUtils","loadOpenCV","setState","ThemeProvider","CssBaseline","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a5de4cf.chunk.js","sourcesContent":["/* MyAppBar.jsx */\n\nimport React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {\n\tAppBar,\n\tToolbar,\n\tTypography,\n\tButton,\n\tIconButton\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2)\n\t},\n\ttitle: {\n\t\tflexGrow: 1\n\t}\n}));\n\nconst MyAppBar = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n\t\t\t\t\t\t<MenuIcon/>\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\timageCompare\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button color=\"inherit\">Help</Button>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n};\n\nexport default MyAppBar;\n","/* ButtonWithIcon.jsx */\n\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nconst ButtonWithIcon = (props) => {\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"contained\"\n\t\t\tstartIcon={props.icon}\n\t\t\tcomponent=\"span\"\n\t\t\tcolor={props.color}\n\t\t>\n\t\t\t{props.title}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithIcon;\n","/* DisplayImage.jsx */\n\nimport React from \"react\";\nimport {\n\tCard,\n\tCardMedia\n} from \"@material-ui/core\";\n\nconst DisplayImage = (props) => {\n\treturn (\n\t\t<Card style={{width: 300}} >\n\t\t\t<CardMedia\n\t\t\t\tcomponent=\"img\"\n\t\t\t\tsrc={props.imageURL}\n\t\t\t\ttitle={props.title}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default DisplayImage;\n","/* ImageLoader.jsx */\n\nimport React from \"react\";\nimport {\n\tBox\n} from \"@material-ui/core\";\nimport {\n\tPhotoCamera,\n\tDeleteForever\n} from \"@material-ui/icons\";\n\n\n// 自作モジュールの読み込み\nimport ButtonWithIcon from \"./ButtonWithIcon.jsx\";\nimport DisplayImage from \"./DisplayImage.jsx\";\n\nconst ImageLoader = () => {\n\tconst [imageSrc, setImageSrc] = React.useState(\"\");\n\n\tconst handleChangeFile = (event) => {\n\t\tlet files = event.target.files;\n\t\tlet imageURL = \"\";\n\t\tif (files.length != 0) {\n\t\t\timageURL = URL.createObjectURL(files[0]);\n\t\t}\n\t\tsetImageSrc(imageURL);\n\t};\n\n\tconst deletePhoto = () => {\n\t\tsetImageSrc(\"\");\n\t};\n\n\treturn (\n\t\t<Box>\n\t\t\t<input accept=\"image/*\" id=\"upload-photo\" type=\"file\" style={{display: \"none\"}} onChange={handleChangeFile}/>\n\t\t\t<label htmlFor=\"upload-photo\">\n\t\t\t\t<ButtonWithIcon icon={<PhotoCamera />} title=\"アップロード\" />\n\t\t\t</label>\n\t\t\t<ButtonWithIcon icon={<DeleteForever />} title=\"削除\" onChange={deletePhoto} />\n\t\t\t<DisplayImage imageURL={imageSrc} width=\"100\"/>\n\t\t</Box>\n\t);\n}\n\nexport default ImageLoader;\n","/* ImageCrop.jsx */\n\nimport React from \"react\";\n\nconst ImageCrop = () => {\n\tconst canvasElement = React.useRef(null);\n\n\tconst loadImage = (imageURL) => {\n\t\tlet img = new Image();\n\t\timg.src = imageURL;\n\t\timg.onload = () => {\n\t\t\tlet src = cv.imread(img, cv.IMREAD_COLOR);\n\t\t\t//working = src.clone();\n\t\t\tcv.imshow(canvasElement, src);\n\t\t}\n\t\tsrc.delete();\n\t}\n\n\treturn (\n\t\t<canvas\n\t\t\tref={canvasElement}\n\t\t\twidth=\"500px\"\n\t\t\theight=\"300px\"\n\t\t></canvas>\n\t);\n};\n\nexport default ImageCrop;\n","/* Workflow.jsx */\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tStepper,\n\tStep,\n\tStepLabel,\n\tStepContent,\n\tButton,\n\tBox,\n\tPaper,\n\tTypography\n} from \"@material-ui/core\";\n\n// 自作モジュールの読み込み\nimport ImageLoader from \"./ImageLoader.jsx\";\nimport ImageCrop from \"./ImageCrop.jsx\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t},\n\tbutton: {\n\t\tmarginTop: theme.spacing(1),\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tactionsContainer: {\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\tresetContainer: {\n\t\tpadding: theme.spacing(3),\n\t},\n}));\n\nfunction getSteps() {\n\treturn ['画像をアップロード', '頂点を選択', '変換'];\n}\n\nfunction getStepContent(step) {\n\tswitch (step) {\n\t\tcase 0: return (\n\t\t\t<Box>\n\t\t\t\t<Typography>処理を行ないたい画像をアップロードして下さい</Typography>\n\t\t\t\t<Typography>URLを指定してインターネット上の画像を読み込むこともできます</Typography>\n\t\t\t\t<ImageLoader />\n\t\t\t</Box>\n\t\t);\n\t\tcase 1: return (\n\t\t\t<Box>\n\t\t\t\t<Typography>画像補正のために頂点をマウスで選択して下さい</Typography>\n\t\t\t\t<Typography>時計回りに4点を指定してもらえると嬉しいです</Typography>\n\t\t\t\t<ImageCrop />\n\t\t\t</Box>\n\t\t);\n\t\tcase 2: return (\n\t\t\t<Box>\n\t\t\t\t<Typography>処理を行なっています…</Typography>\n\t\t\t\t<Typography>しばらくお待ち下さい</Typography>\n\t\t\t</Box>\n\t\t);\n\t\tdefault:\n\t\t\treturn 'Unknown step';\n\t}\n}\n\nconst Workflow = () => {\n\tconst classes = useStyles();\n\tconst [activeStep, setActiveStep] = React.useState(0);\n\tconst steps = getSteps();\n\n\tconst handleNext = () => {\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t};\n\n\tconst handleBack = () => {\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep - 1);\n\t};\n\n\tconst handleReset = () => {\n\t\tsetActiveStep(0);\n\t};\n\n\treturn (\n\t\t<Box className={classes.root}>\n\t\t\t<Stepper activeStep={activeStep} orientation=\"vertical\">\n\t\t\t\t{steps.map((label, index) => (\n\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t<StepLabel>{label}</StepLabel>\n\t\t\t\t\t\t<StepContent>\n\t\t\t\t\t\t\t<Typography>{getStepContent(index)}</Typography>\n\t\t\t\t\t\t\t<Box className={classes.actionsContainer}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\n\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</StepContent>\n\t\t\t\t\t</Step>\n\t\t\t\t))}\n\t\t\t</Stepper>\n\t\t\t{activeStep === steps.length && (\n\t\t\t\t<Paper square elevation={0} className={classes.resetContainer}>\n\t\t\t\t\t<Typography>処理が完了しました！</Typography>\n\t\t\t\t\t<Button onClick={handleReset} className={classes.button}>\n\t\t\t\t\t\tやり直す\n\t\t\t\t\t</Button>\n\t\t\t\t</Paper>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default Workflow;\n","/* MainContent.jsx */\n\nimport React from \"react\";\n\n// 自作モジュールの読み込み\nimport Workflow from \"./Workflow.jsx\";\n\nconst MainContent = () => {\n\treturn (\n\t\t<Workflow />\n\t);\n};\n\nexport default MainContent;\n","/* LoadingSpinner.jsx */\n/*\n * OpenCV.jsの読み込みに時間がかかるので読み込んでいるあいだスピナーを表示します\n *\n */\n\nimport React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Icon from '@material-ui/core/Icon';\nimport DoneIcon from '@material-ui/icons/Done';\n\n\nclass LoadingSpinner extends React.Component {\n\trender() {\n\t\treturn(\n\t\t\t<Box>\n\t\t\t\t{this.props.loading ? <CircularProgress /> : <Icon color=\"primary\" fontSize=\"large\"><DoneIcon/></Icon>}\n\t\t\t\t<Typography>\n\t\t\t\t\t{this.props.loading ? \"Now Loading OpenCV.js \" : \"OpenCV.js has been loaded!\"}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t)\n\t}\n}\n\nexport default LoadingSpinner;\n","/* App.jsx */\nimport React from \"react\";\nimport {\n\tcreateMuiTheme,\n\tThemeProvider\n} from '@material-ui/core/styles';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport orange from \"@material-ui/core/colors/orange\";\n\n// 自作モジュールの読み込み\nimport MyAppBar from \"./MyAppBar.jsx\";\nimport MainContent from \"./MainContent.jsx\";\nimport LoadingSpinner from \"./LoadingSpinner.jsx\";\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: orange\n\t},\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t\"Roboto\",\n\t\t\t\"Noto Sans\"\n\t\t].join(\",\"),\n\t\tfontSize: 13,\n\t\th1: {\n\t\t\tfontSize: \"1.75rem\"\n\t\t},\n\t\th2: {\n\t\t\tfontSize: \"1.5rem\"\n\t\t},\n\t\th3: {\n\t\t\tfontSize: \"1.25rem\"\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"1.125rem\"\n\t\t},\n\t\th5: {\n\t\t\tfontSize: \"1rem\"\n\t\t},\n\t\th6: {\n\t\t\tfontSize: \"1rem\"\n\t\t}\n\t}\n});\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\t// Appコンポーネントが呼び出されたら次はOpenCV.jsの読み込みを行なう\n\tcomponentDidMount() {\n\t\tconst opencv_utils = new opencvUtils();\n\t\topencv_utils.loadOpenCV(\"opencv-4.5.0.js\", () => {\n\t\t\t//opencv_utils.executeScript(\"./process.js\");\n\t\t\t// OpenCV.jsの読み込みが完了したらstate.loadingをfalseにする\n\t\t\tthis.setState({\n\t\t\t\tloading: false\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MyAppBar />\n\t\t\t\t<LoadingSpinner loading={this.state.loading} />\n\t\t\t\t<MainContent />\n\t\t\t</ThemeProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","/* index.js */\n\n// react\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// leaflet\n//import Leaflet from \"leaflet\";\n//import {MapContainer, TileLayer} from \"react-leaflet\";\n\n// opencv\n//import \"./opencv\";\n\n// styleSheet\nimport \"./style.css\";\n//import \"../node_modules/leaflet/dist/leaflet.css\"; // ./style.cssによって間接的に読み込んでいる \n\n// Appコンポーネントを読み込む\nimport App from \"./App.jsx\";\nReactDOM.render(<App/>, document.getElementById(\"app\"));\n"],"sourceRoot":""}