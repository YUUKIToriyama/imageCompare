{"version":3,"file":"opencv-react.js","sources":["../../../node_modules/opencv-react/dist/index.modern.js"],"sourcesContent":["import { createContext, useState, useCallback, useEffect, useMemo, createElement, useContext } from 'react';\n\nvar OpenCvContext = createContext();\nvar OpenCvConsumer = OpenCvContext.Consumer,\n    Provider = OpenCvContext.Provider;\nvar scriptId = 'opencv-react';\nvar moduleConfig = {\n  wasmBinaryFile: 'opencv_js.wasm',\n  usingWasm: true\n};\nvar OpenCvProvider = function OpenCvProvider(_ref) {\n  var openCvPath = _ref.openCvPath,\n      children = _ref.children,\n      onLoad = _ref.onLoad;\n\n  var _React$useState = useState(false),\n      loaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  var handleOnLoad = useCallback(function () {\n    if (onLoad) {\n      onLoad(window.cv);\n    }\n\n    setLoaded(true);\n  }, []);\n  useEffect(function () {\n    if (document.getElementById(scriptId) || window.cv) {\n      setLoaded(true);\n      return;\n    }\n\n    moduleConfig.onRuntimeInitialized = handleOnLoad;\n    window.Module = moduleConfig;\n\n    var generateOpenCvScriptTag = function generateOpenCvScriptTag() {\n      var js = document.createElement('script');\n      js.id = scriptId;\n      js.src = openCvPath || 'https://docs.opencv.org/3.4.13/opencv.js';\n      js.nonce = true;\n      js.defer = true;\n      js.async = true;\n      return js;\n    };\n\n    document.body.appendChild(generateOpenCvScriptTag());\n  }, [openCvPath, handleOnLoad]);\n  var memoizedProviderValue = useMemo(function () {\n    return {\n      loaded: loaded,\n      cv: window.cv\n    };\n  }, [loaded]);\n  return /*#__PURE__*/createElement(Provider, {\n    value: memoizedProviderValue\n  }, children);\n};\n\nvar useOpenCv = function useOpenCv() {\n  return useContext(OpenCvContext);\n};\n\nexport { OpenCvConsumer, OpenCvContext, OpenCvProvider, useOpenCv };\n//# sourceMappingURL=index.modern.js.map\n"],"names":["createContext","useState","useCallback","useEffect","useMemo","createElement"],"mappings":";;;AAEA,IAAI,aAAa,GAAGA,mBAAa,EAAE,CAAC;AACf,aAAa,CAAC,QAAQ,CAAC;AAC5C,QAAI,QAAQ,GAAG,aAAa,CAAC,SAAS;AACtC,IAAI,QAAQ,GAAG,cAAc,CAAC;AAC9B,IAAI,YAAY,GAAG;AACnB,EAAE,cAAc,EAAE,gBAAgB;AAClC,EAAE,SAAS,EAAE,IAAI;AACjB,CAAC,CAAC;AACC,IAAC,cAAc,GAAG,SAAS,cAAc,CAAC,IAAI,EAAE;AACnD,EAAE,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU;AAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ;AAC9B,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3B;AACA,EAAE,IAAI,eAAe,GAAGC,cAAQ,CAAC,KAAK,CAAC;AACvC,MAAM,MAAM,GAAG,eAAe,CAAC,CAAC,CAAC;AACjC,MAAM,SAAS,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;AACrC;AACA,EAAE,IAAI,YAAY,GAAGC,iBAAW,CAAC,YAAY;AAC7C,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AACxB,KAAK;AACL;AACA,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;AACpB,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAEC,eAAS,CAAC,YAAY;AACxB,IAAI,IAAI,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAE,EAAE;AACxD,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC;AACtB,MAAM,OAAO;AACb,KAAK;AACL;AACA,IAAI,YAAY,CAAC,oBAAoB,GAAG,YAAY,CAAC;AACrD,IAAI,MAAM,CAAC,MAAM,GAAG,YAAY,CAAC;AACjC;AACA,IAAI,IAAI,uBAAuB,GAAG,SAAS,uBAAuB,GAAG;AACrE,MAAM,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAChD,MAAM,EAAE,CAAC,EAAE,GAAG,QAAQ,CAAC;AACvB,MAAM,EAAE,CAAC,GAAG,GAAG,UAAU,IAAI,0CAA0C,CAAC;AACxE,MAAM,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;AACtB,MAAM,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;AACtB,MAAM,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;AACtB,MAAM,OAAO,EAAE,CAAC;AAChB,KAAK,CAAC;AACN;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,uBAAuB,EAAE,CAAC,CAAC;AACzD,GAAG,EAAE,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,CAAC;AACjC,EAAE,IAAI,qBAAqB,GAAGC,aAAO,CAAC,YAAY;AAClD,IAAI,OAAO;AACX,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,EAAE,EAAE,MAAM,CAAC,EAAE;AACnB,KAAK,CAAC;AACN,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;AACf,EAAE,oBAAoBC,mBAAa,CAAC,QAAQ,EAAE;AAC9C,IAAI,KAAK,EAAE,qBAAqB;AAChC,GAAG,EAAE,QAAQ,CAAC,CAAC;AACf;;;;"}